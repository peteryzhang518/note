repo forall -c 'git reset --hard HEAD~3' && repo sync --force-sync -j4

./prebuilts/build-tools/linux-x86/bin/ninja -f ./out/combined-kalama.ninja camera.qcom
    
source 
build_build_var_cache
lunch
RECOMPILE_KERNEL=1 ./kernel_platform/build/android/prepare_vendor.sh kalama consolidate && make bootimage vendorbootimage dtboimage && adb reboot fastboot
RECOMPILE_KERNEL=1 ./kernel_platform/build/android/prepare_vendor.sh sun consolidate && make bootimage vendorbootimage dtboimage && adb reboot fastboot
fastboot flash boot_a out/target/product/kalama/boot.img
fastboot flash vendor_boot_a out/target/product/kalama/vendor_boot.img
fastboot flash dtbo_a out/target/product/kalama/dtbo.img  && fastboot reboot

fastboot flash boot_a out/target/product/sun/boot.img
fastboot flash vendor_boot_a out/target/product/sun/vendor_boot.img 


adb root && adb remount 
adb shell setenforce 0
mount -t debugfs none /sys/kernel/debug
echo 8 > /proc/sys/kernel/printk
echo -n "file dp_*.c +p" > /sys/kernel/debug/dynamic_debug/control
adb shell logcat -b kernel | grep -iE "dsi|drm|dp_"

	display_panel_avdd: display_gpio_regulator@1 {
		compatible = "qti-regulator-fixed";
		regulator-name = "display_panel_avdd";
		regulator-min-microvolt = <5500000>;
		regulator-max-microvolt = <5500000>;
		regulator-enable-ramp-delay = <233>;
		gpio = <&pm8550_gpios 11 0>;
		enable-active-high;
		regulator-boot-on;
		proxy-supply = <&display_panel_avdd>;
		qcom,proxy-consumer-enable;
		pinctrl-names = "default";
		pinctrl-0 = <&display_panel_avdd_default>;
	};



只要该了pipeline.xml就需要编译推送com.qti.chiusecaseselector.so和chi.override.so
pipeline配置有问题可以先看g_来判断是代码问题还是xml问题




1. 修改dtsi 见dtsi.md
2. LA.VENDOR.15.4.0/LINUX/android/vendor/qcom/proprietary/common/config/device-vendor.mk
3. 修改camx common
4. 修改camx
5. 修改chi-cdk
